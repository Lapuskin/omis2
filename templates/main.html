{% extends 'components/window.html'%}
{% block body %}
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <ul class="navbar-nav mr-auto">
        <li class="nav-item">
            <a class="nav-link active" href="#" data-target="lots">Лоты</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" data-target="buyers">Покупатели</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" data-target="sellers">Продавцы</a>
        </li>
    </ul>
</nav>

<div class="container mt-4">

    <!-- Лоты -->
    <div id="lots" class="table-container">
        <div class="form-group" style="display: flex;">
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="activeLots">
            <label class="form-check-label" for="activeLots">Активные</label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="inactiveLots">
            <label class="form-check-label" for="inactiveLots">Неактивные</label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="allLots">
            <label class="form-check-label" for="allLots">Все</label>
        </div>
    </div>
        <h2>Лоты</h2>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Название</th>
                    <th scope="col">Продавец</th>
                    <th scope="col">Минимальная ставка</th>
                    <th scope="col">Шаг ставки</th>
                    <th scope="col">Описание</th>
                    <th scope="col">Изменить</th>
                </tr>
            </thead>
            <tbody>
                <!-- Здесь будет генерация списка лотов -->
            </tbody>
        </table>

        <button class="btn btn-primary" onclick="redirectToURL('/lot_create')">Новый лот</button>
    </div>

    <!-- Покупатели -->
    <div id="buyers" class="table-container">
        <h2>Покупатели</h2>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">ФИО</th>
                    <th scope="col">Баланс</th>
                    <th scope="col">Адрес доставки</th>
                    <th scope="col">Изменить</th>
                </tr>
            </thead>
            <tbody>
                <!-- Здесь будет генерация списка покупателей -->
            </tbody>
        </table>

        <button class="btn btn-primary" onclick="redirectToURL('/buyer_create')">Новый покупатель</button>
    </div>

    <!-- Продавцы -->
    <div id="sellers" class="table-container">
        <h2>Продавцы</h2>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">ФИО</th>
                    <th scope="col">Баланс</th>
                    <th scope="col">Адрес забора товара</th>
                    <th scope="col">Рейтинг</th>
                    <th scope="col">Изменить</th>
                </tr>
            </thead>
            <tbody>
                <!-- Здесь будет генерация списка продавцов -->
            </tbody>
        </table>
        <button class="btn btn-primary" onclick="redirectToURL('/seller_create')">Новый продавец</button>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script>
    // Функция для отображения таблицы по целевому идентификатору
    function showTable(target) {
        $('.table-container').hide(); // Скрываем все таблицы
        $('#' + target).show(); // Отображаем таблицу с целевым идентификатором
    }

    // Обработчик события клика на элементы навигационного меню
    $('.nav-link').click(function (e) {
        e.preventDefault();
        var target = $(this).data('target'); // Получаем целевой идентификатор из атрибута data-target
        showTable(target); // Отображаем соответствующую таблицу
    });

    // По умолчанию отображаем таблицу "Лоты"
    showTable('lots');

    function redirectToURL(url) {
            window.location.href = url;
        }
</script>
{% endblock %}